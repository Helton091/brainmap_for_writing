## Context
节点图谱需要在保持画布简洁的前提下表达更多信息，并允许用户对长链路进行折叠以聚焦。

## Goals / Non-Goals
- Goals:
  - 节点支持颜色分类（图例效果）
  - 节点支持极简注释（短文本）并在节点上显示
  - 节点支持折叠/展开后续节点（按有向边）
  - 折叠状态与颜色/注释可持久化
- Non-Goals:
  - 自动生成图例 UI
  - 复杂的图算法可视化（仅基础可见性过滤）

## Decisions
- Decision: 将折叠视为“停止遍历”
  - 以节点为起点的后续可达节点在折叠时不可见，展开后恢复。
- Decision: 以 roots 开始计算可见节点
  - roots 定义为无入边的节点；若图无 root，则从全部节点作为起点。

## Risks / Trade-offs
- 有向图可能存在分叉与环；实现中需要 visited 集合避免无限循环。
- 若节点被多个路径引用，折叠规则以“从某个折叠节点后不可达”生效，但其他路径仍可使节点可见。
