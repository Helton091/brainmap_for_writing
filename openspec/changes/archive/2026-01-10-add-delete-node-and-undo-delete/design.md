## Context
图谱编辑需要可逆操作，最低成本的可逆点是“删除”，其余操作可后续扩展。

## Goals / Non-Goals
- Goals:
  - 删除节点/边
  - Ctrl+Z 撤销最近一次删除（支持多步撤销直到栈空）
  - 撤销后节点/边的 ID 与坐标保持不变
- Non-Goals:
  - 撤销编辑文本/日期、颜色/备注、导入、自动布局
  - Ctrl+Y 重做

## Decisions
- Decision: 使用内存撤销栈记录“删除快照”而不是全量项目快照
  - 记录内容：被删除的节点对象、被删除的边对象；当删除节点时，同时记录并删除其入边/出边
  - 恢复策略：按原 ID 重新插入 Graph，并在 UI 中重建对应的 item，然后刷新可见性/重算边路径
- Decision: 触发路径
  - Delete 键：删除当前选择的边与节点
  - 菜单项：为节点/空白处/边提供删除入口（具体位置在实现阶段对齐现有 UI 风格）
- Decision: 撤销触发
  - Ctrl+Z 触发撤销最近一次删除；若无可撤销项则无动作

## Risks / Trade-offs
- 仅撤销删除，可能与用户对“撤销=全局撤销”的直觉不一致，需要在 UI 文案上明确（实现阶段处理）
- 多选删除时需作为一个原子动作入栈，避免撤销碎片化

## Migration Plan
无数据迁移；撤销栈仅运行期存在，不写入项目文件。
