## Context
应用以“节点”为核心，记录事件内容与可选时间，并在画布上用有向连线表达先后/因果等逻辑关系。
需要同时满足：快速录入（手动 + txt 导入）、可视化编辑（拖拽与连线）、可持久化保存。

## Goals / Non-Goals
- Goals:
  - 提供可交互的节点画布（创建、编辑、拖拽、连线）
  - 支持示例 txt 格式导入，自动生成节点
  - 默认基于日期进行“越晚越靠右”的初始布局
  - 本地保存/加载，保证用户编辑结果可复现
- Non-Goals:
  - 多人协作与在线同步
  - 富文本编辑与排版系统
  - 复杂的自动推理（仅提供结构表达能力）

## Decisions
- Decision: 使用 PySide6 构建桌面 UI
  - Why: 纯 Python 生态内实现拖拽、画布渲染、连线交互成本最低，跨平台成熟。
- Decision: 采用 QGraphicsScene/View 表达画布
  - Why: 原生支持自定义图元、选择、拖拽、缩放/平移等交互。
- Decision: 数据模型与 UI 分离
  - Why: 导入解析、布局、序列化需要可测试且可复用。
- Decision: 保存格式为 JSON
  - Why: 可读、可调试、易扩展；可稳定记录 nodes/edges/layout。

## Risks / Trade-offs
- PySide6 依赖较大；通过单一依赖换取交互能力与开发速度。
- 自动布局只作为初始辅助；需要明确“用户拖拽优先”原则避免布局反复覆盖用户调整。

## Migration Plan
- 第一期先实现：节点/连线/保存加载/导入与初始布局
- 后续再扩展：搜索、过滤、标签、导出等能力（单独提案）

## Open Questions
- 节点日期是否需要支持到时间（HH:MM）与范围？
- 导入 txt 中无日期段落的拆分规则（按空行分块 or 整文件一块）
